{% extends "body.html" %}
{% load widget_tweaks %}
{% block content %}

<div class="main-content" style="padding: 20px; padding-top: 70px; padding-bottom: 80px;">
<form method="post" action="">
    <div class="card card-default">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-plus"></i>
                {{titulo}}
            </h3>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
            {% csrf_token %}
            {% if form.errors %}
            <div class="alert alert-danger alert-dismissible">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
                <h5><i class="icon fas fa-ban"></i> Ha ocurrido un error al intentar guardar la factura</h5>
                <ul>
                    {% for field in form %}
                        {% for error in field.errors %}
                            <li>{{error}}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <div class="alert alert-danger alert-dismissible">
                {% block eliminar %}
                {% endblock %}
            </div>
        </div>
        <div class="card-footer">

            {% block validar %}
            {% endblock %}
        </div>
    </div>
</form>
</div>

{% endblock content %}

{% block extra_js %}
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  {% if messages %}
    <script>
      {% for message in messages %}
        Swal.fire({
          icon: '{% if "success" in message.tags %}success{% elif "error" in message.tags %}error{% else %}info{% endif %}',
          title: '{{ message|escapejs }}',
          timer: 2500,
          showConfirmButton: false
        });
      {% endfor %}
    </script>
  {% endif %}
{% endblock %}
