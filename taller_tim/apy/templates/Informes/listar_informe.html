{% extends "generic_listar.html" %}

{% block titulo %}
        <h1 class="text-center">Lista de Informes</h1>
{% endblock titulo %}

{% block agregar %}
<a href="{{crear_url}}" class=" btn btn-primary btn btn-xs"><i class="fas fa-plus"></i>
          Agregar
</a>
{% endblock %}

{% block columnas %}

        <th>Id del informe</th>
        <th>Repuestos usados</th>
        <th>Costo mano obra</th>
        <th>Fecha</th>
        <th>Hora</th>
        <th>Id repuesto</th>
        <th>Id empleado</th>
        <th>Tipo informe</th>
        <th>Id mantenimiento</th>
        <th>Acciones</th>

{% endblock %}

{% block iterar %}

      {% for i in object_list %}
      <tr>
        <td>{{ i.id_informe }}</td>
        <td>{{ i.repuestos_usados }}</td>
        <td>{{ i.costo_mano_obra}}</td>
        <td>{{ i.fecha}}</td>
        <td>{{ i.hora}}</td>
        <td>{{ i.id_repuesto}}</td>
        <td>{{ i.id_empleado}}</td>
        <td>{{ i.tipo_informe}}</td>
        <td>{{ i.id_mantenimeinto}}</td>

          <td>
            <a href="{% url 'apy:informes_editar' i.id_informe %}" class="btn btn-info btn-xs"><i class="fas fa-edit"></i></a>
            <a href="{% url 'apy:informes_eliminar' i.id_informe %}" class="btn btn-danger btn-xs"><i
                class="fas fa-trash-alt"></i></a>
          </td>
      </tr>
      {% endfor %}

{% endblock %}

{% block extra_js %}
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  {% if messages %}
    <script>
      {% for message in messages %}
        Swal.fire({
          icon: '{% if "success" in message.tags %}success{% elif "error" in message.tags %}error{% else %}info{% endif %}',
          title: '{{ message|escapejs }}',
          timer: 2500,
          showConfirmButton: false
        });
      {% endfor %}
    </script>
  {% endif %}
{% endblock %}