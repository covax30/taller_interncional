
{% extends 'home.html' %}
{% load static %}

{% block body %}
<body class="layout-fixed sidebar-expand-lg sidebar-mini bg-body-tertiary">
  
  <div class="app-wrapper"> 
    {% include 'header.html' %}

    {% include 'sidebar.html' %}

      <!--begin::Main Content-->
      {% block main %}{% endblock %}
      <!--end::Main Content-->

    {% include 'footer.html'%}
  </div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="{% static 'lib/datatables-1.10.20/datatables.min.js' %}"></script>
<script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/dataTables.responsive.js' %}"></script>
<script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/responsive.bootstrap4.js' %}"></script>
<link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/css/jquery.dataTables.min.css' %}">
<link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/plugins/responsive-/css/responsive.bootstrap4.css' %}">

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script src="{% static 'lib/AdminLTE-4.0.0-rc3/dist/js/adminlte.min.js' %}"></script>
<script src="{% static 'lib/overlayscrollbars@2.11.0/browser/overlayscrollbars.browser.es6.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/browser/overlayscrollbars.browser.es6.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-dyZb8CT5EIG9YvGZr9YfCT1GHf4vPY7UoX8PbQZkXEQ1+ExR/dqI+3IBGoZTw6Z8+btfM68Ek58dxRZozm4JQw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<script>
  $(document).ready(function () {
    $('#example1').DataTable();
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const sidebarWrapper = document.querySelector(".sidebar-wrapper");
    if (sidebarWrapper && OverlayScrollbarsGlobal?.OverlayScrollbars !== undefined) {
      OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
        scrollbars: {
          theme: "os-theme-light",
          autoHide: "leave",
          clickScroll: true
        }
      });
    }
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cssLink = document.querySelector('link[href*="css/adminlte.css"]');
    if (!cssLink) return;
    const cssHref = cssLink.getAttribute('href');
    const deploymentPath = cssHref.slice(0, cssHref.indexOf('css/adminlte.css'));

    document.querySelectorAll('img[src^="/assets/"]').forEach(img => {
      const originalSrc = img.getAttribute('src');
      if (originalSrc) {
        const relativeSrc = originalSrc.slice(1);
        img.src = deploymentPath + relativeSrc;
      }
    });
  });
</script>

{% block extra_js %}
{% endblock %}

{% if messages %}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    {% for message in messages %}
      Swal.fire({
        icon: '{% if "success" in message.tags %}success{% elif "error" in message.tags %}error{% else %}info{% endif %}',
        title: '{{ message|escapejs }}',
        timer: 2500,
        showConfirmButton: false
      });
    {% endfor %}
  });
</script>
{% endif %}

</body><!--end::Body-->
 {% endblock %}